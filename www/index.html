<!DOCTYPE HTML>
<html>

<head>
	<title>WEBSERV</title>
	<meta charset="utf-8">
	<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>

<body>

	<link rel="icon" href="/image/favicon.ico" type="image/png">

	<!-- Header -->
	<header id="header">
		<div class="inner">
			<nav id="nav"><a href="index.html">Home</a>
				<a href="generic.html">Generic</a>

		</div>
	</header><!-- Banner -->
	<section id="banner">
		<div class="inner">
			<header>
				<h1>WEBSERV</h1>
			</header>
			<div class="flex ">
				<div>
					<h3>UPLOAD</h3>
					<p>Upload a file to the server.</p>
					<form action="/upload" method="POST" enctype="multipart/form-data">
						<input type="file" name="file" required><br><br>
						<input type="submit" value="Upload" class="button">
					</form>
				</div>
				<!-- ...existing code... -->
				<div>
					<h3>DELETE</h3>
					<p>Delete a file from the server.</p>
					<form id="deleteForm">
						<input type="text" id="filename" name="filename" placeholder="Enter filename" required><br><br>
						<input type="submit" value="Delete" class="button" style="background-color: #e74c3c;">
					</form>
					<div id="deleteResult"></div>
				</div>
				<!-- ...existing code... -->
				
				<script>
				document.getElementById('deleteForm').addEventListener('submit', async function(e) {
					e.preventDefault();
					const filename = document.getElementById('filename').value;
					const response = await fetch('/upload/' + encodeURIComponent(filename), {
						method: 'DELETE'
					});
					const resultDiv = document.getElementById('deleteResult');
					if (response.ok) {
						resultDiv.textContent = 'File deleted successfully.';
					} else {
						resultDiv.textContent = 'Failed to delete file.';
					}
				});
				</script>
			</div>

			<!-- Footer -->
			<footer>
				<div class="inner">
					<p>&copy; 2025 WEBSERV. All rights reserved.</p>
				</div>
			</footer>
		</div>
